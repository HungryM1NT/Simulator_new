<?xml version="1.0"?>
<sdf version="1.5">
	<model name="iflight">
		<link name="body_link">
			<inertial>
				<mass>0.392</mass>
				<inertia>
					<ixx>0.000319700826667</ixx>
					<iyy>0.000319700826667</iyy>
					<izz>0.000589633333334</izz>
				</inertia>
			</inertial>
			<collision name="collision">
				<geometry>
					<box>
						<size>0.11 0.11 0.0276</size>
					</box>
				</geometry>
			</collision>
			<sensor name="imu_sensor" type="imu"> <!-- Перенести в отдельный link -->
				<always_on>1</always_on>
				<visualize>1</visualize>
				<update_rate>1000</update_rate>
				<topic>imu</topic>
			</sensor>
			<visual name="body">
				<geometry>
					<box>
						<size>0.11 0.11 0.0276</size>
					</box>
				</geometry>
				<material>
					<ambient>0.5 0.5 0.6 1</ambient>
					<diffuse>0.5 0.5 0.6 1</diffuse>
					<specular>0 0 0 1</specular>
					<emissive>0 0 0 1</emissive>
				</material>
			</visual>
		</link>

		<link name="rotor_0">
			<pose>-0.05 0.05 0.0172 0 0 0</pose>
			<inertial>
				<pose>0 0 0 0 0 0</pose>
			</inertial>
			<visual name="rotor_0_visual"><!-- rear left -->
				<pose>0 0 0 0 0 0</pose>
				<geometry>
					<box>
						<size>0.035 0.01 0.005</size>
					</box>
				</geometry>
				<!-- <geometry><cylinder><radius>0.035</radius><length>0.0001</length></cylinder></geometry> -->
				
				<material><ambient>0.8 0.3 0.3 0.5</ambient><diffuse>0.8 0.3 0.3 0.5</diffuse></material>
			</visual>
		</link>

		<link name="rotor_1">
			<pose>-0.05 -0.05 0.0142 0 0 0</pose>
			<inertial>
				<pose>0 0 0 0 0 0</pose>
			</inertial>
			<visual name="rotor_1_visual"><!-- rear right -->
				<geometry><cylinder><radius>0.035</radius><length>0.0001</length></cylinder></geometry>
				<pose>0 0 0 0 0 0</pose>
				<material><ambient>0.8 0.3 0.3 0.5</ambient><diffuse>0.8 0.3 0.3 0.5</diffuse></material>
			</visual>
		</link>

		<link name="rotor_2">
			<pose>0.05 -0.05 0.0142 0 0 0</pose>
			<inertial>
				<pose>0 0 0 0 0 0</pose>
			</inertial>
			<visual name="rotor_2_visual"><!-- front right -->
				<geometry><cylinder><radius>0.035</radius><length>0.0001</length></cylinder></geometry>
				<pose>0 0 0 0 0 0</pose>
				<material><ambient>1 1 1 0.5</ambient><diffuse>1 1 1 0.5</diffuse></material>
			</visual>
		</link>

		<link name="rotor_3">
			<pose>0.05 0.05 0.0142 0 0 0</pose>
			<inertial>
				<pose>0 0 0 0 0 0</pose>
			</inertial>
			<visual name="rotor_3_visual"><!-- front left -->
				<geometry><cylinder><radius>0.035</radius><length>0.0001</length></cylinder></geometry>
				<pose>0 0 0 0 0 0</pose>
				<material><ambient>1 1 1 0.5</ambient><diffuse>1 1 1 0.5</diffuse></material>
			</visual>
		</link>

		<joint name="rotor_0_joint" type="revolute">
			<child>rotor_0</child>
			<parent>body_link</parent>
			<axis>
				<xyz>0 0 1</xyz>
				<limit>
					<lower>-1e+16</lower>
					<upper>1e+16</upper>
				</limit>
				<dynamics>
					<damping>0.004</damping>
				</dynamics>
			</axis>
			<physics>
				<ode>
					<implicit_spring_damper>1</implicit_spring_damper>
				</ode>
			</physics>
		</joint>
		<joint name="rotor_1_joint" type="revolute">
			<child>rotor_1</child>
			<parent>body_link</parent>
			<axis>
				<xyz>0 0 1</xyz>
				<limit>
					<lower>-1e+16</lower>
					<upper>1e+16</upper>
				</limit>
				<dynamics>
					<damping>0.004</damping>
				</dynamics>
			</axis>
			<physics>
				<ode>
					<implicit_spring_damper>1</implicit_spring_damper>
				</ode>
			</physics>
		</joint>
		<joint name="rotor_2_joint" type="revolute">
			<child>rotor_2</child>
			<parent>body_link</parent>
			<axis>
				<xyz>0 0 1</xyz>
				<limit>
					<lower>-1e+16</lower>
					<upper>1e+16</upper>
				</limit>
				<dynamics>
					<damping>0.004</damping>
				</dynamics>
			</axis>
			<physics>
				<ode>
					<implicit_spring_damper>1</implicit_spring_damper>
				</ode>
			</physics>
		</joint>
		<joint name="rotor_3_joint" type="revolute">
			<child>rotor_3</child>
			<parent>body_link</parent>
			<axis>
				<xyz>0 0 1</xyz>
				<limit>
					<lower>-1e+16</lower>
					<upper>1e+16</upper>
				</limit>
				<dynamics>
					<damping>0.004</damping>
				</dynamics>
			</axis>
			<physics>
				<ode>
					<implicit_spring_damper>1</implicit_spring_damper>
				</ode>
			</physics>
		</joint>

		<plugin filename="gz-sim-apply-joint-force-system"
			name="gz::sim::systems::ApplyJointForce">
			<joint_name>rotor_0_joint</joint_name>
		</plugin>
		<plugin filename="gz-sim-apply-joint-force-system"
			name="gz::sim::systems::ApplyJointForce">
			<joint_name>rotor_1_joint</joint_name>
		</plugin>
		<plugin filename="gz-sim-apply-joint-force-system"
			name="gz::sim::systems::ApplyJointForce">
			<joint_name>rotor_2_joint</joint_name>
		</plugin>
		<plugin filename="gz-sim-apply-joint-force-system"
			name="gz::sim::systems::ApplyJointForce">
			<joint_name>rotor_3_joint</joint_name>
		</plugin>

		<plugin filename="Iflight" name="iflight::Iflight">
		</plugin>
		<plugin filename="gz-sim-imu-system"
        name="gz::sim::systems::Imu">
		</plugin>
	</model>
</sdf>
